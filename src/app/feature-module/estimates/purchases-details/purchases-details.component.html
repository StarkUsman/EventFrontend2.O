<!-- Page Header -->
<div class="card">
    <div class="card-body">
      <div class="page-header">
        <div class="content-invoice-header">
          <div class="invoice-item invoice-item-one">
            <div class="invoice-logo">
              <img src="assets/img/newLogo2.png" alt="logo">
              <!-- <img src="{{reservationToView.signature_img}}" alt="logo"> -->
            </div>
          </div>
          <div class="text-center">
            <h5>Paradise Castle Marquee</h5>
            <p>
              <span class="text-muted">Address:</span> NEAR PEER MEHR ALI SHAH UNIVERSITY<br>
              OPPO ATTOCK PETROL PUMP NEW ROAD ATTOCK <br>
              Contact# 0330-9589411, 0311-9589412
            </p>
          </div>          
          <div class="list-btn">
            <ul class="filter-list">
              <li>
                <a class="btn btn-import me-2" href="javascript:window.print()"><span><i class="feather icon-printer me-2"></i>Print</span></a>
              </li>
            </ul>
          </div>
        </div>
      </div>
      <!-- /Page Header -->
      <div class="row justify-content-center">
        <div class="col-lg-12">
          <div class="invoice-card">
            <div class="card-bod">
              <div class="card-table">
                <div class="card-bod">
                  <!-- Invoice Date -->
                  <div class="invoice-item invoice-item-date">
                    <div class="row">
                      <div class="col-md-4">
                        <p class="text-start invoice-details">
                          Bill To<span>: </span><strong>{{reservationToView.reservation_name}}</strong><br>
                          <span class="text-muted"></span> {{reservationToView.contact_number}}
                          <span *ngIf="reservationToView.alt_contact_number">,</span>
                          <span class="text-muted"></span> {{reservationToView.alt_contact_number}}
                        </p>
                      </div>
                      <div class="col-md-4">
                        
                      </div>
                      <div class="col-md-2">
                        
                      </div>
                      <div class="col-md-2">
                        <p class="invoice-details text-start">
                          Event Number<span>: </span><strong> {{reservationToView.booking_id}} </strong><br>
                          Ordered<span>: </span><strong>{{reservationToView.date}}</strong><br>
                          Due Date<span>: </span><strong>{{reservationToView.dashboardDate}}</strong><br>
                          Order Status: <span [ngClass]="{'text-success': reservationToView.status == 'FULLFILLED', 'text-danger': reservationToView.status === 'OPEN' || reservationToView.status === 'DRAFTED'}">{{reservationToView.status}}</span><br>
                        </p>
                      </div>
                    </div>
                  </div>
  
                  <!-- Reservation Items -->
                  <div class="invoice-item invoice-table-wrap">
                    <div class="row">
                      <div class="col-md-12">
                        <div class="table-responsive">
                          <table class="table table-center table-hover mb-0 table-striped datatable">
                            <thead class="thead-light">
                              <tr>
                                <th>Item</th>
                                <th>Description</th>
                                <th>Hall</th>
                                <th>Session</th>
                                <th>Unit</th>
                                <th>Price</th>
                                <th>Ext Price</th>
                              </tr>
                            </thead>
                            <tbody>
                              <tr>
                                <td>Hall</td>
                                <td></td>
                                <td>{{reservationToView.SLOT?.hall}}</td>
                                <td>{{reservationToView.SLOT?.slot}}</td>
                                <td>1</td>
                                <td></td>
                                <td></td>
                              </tr>
                              <tr>
                                <td>{{reservationToView.selectedMenu?.menu_name}}</td>
                                <td>{{ reservationToView.selectedMenu?.description | slice:0:20 }}{{ reservationToView.selectedMenu?.description.length > 20 ? '...' : '' }}</td>
                                <td></td>
                                <td></td>
                                <td>{{reservationToView.number_of_persons}}</td>
                                <td>PKR{{reservationToView.selectedMenu?.price}}</td>
                                <td>PKR{{reservationToView.total_menu_price}}</td>
                              </tr>
                              <tr *ngFor="let item of menuItems">
                                <td>{{item.item_name}}</td>
                                <td>{{ item.description | slice:0:20 }}{{ item.description.length > 20 ? '...' : '' }}</td>
                                <td></td>
                                <td></td>
                                <td>1</td>
                                <td>PKR{{item.price}}</td>
                                <td>PKR0.00</td>
                              </tr>
                              <tr *ngFor="let service of reservationToView.additional_services">
                                <td>{{service.additional_service_name}}</td>
                                <td>{{ service.description | slice:0:20 }}{{ service.description.length > 20 ? '...' : '' }}</td>
                                <td></td>
                                <td></td>
                                <td>{{service.quantity}}</td>
                                <td>PKR{{service.price}}</td>
                                <td>PKR{{service.totalPrice}}</td>
                              </tr>
                              <tr>
                                <td colspan="5"></td>
                                <td>SubTotal:</td>
                                <td>{{reservationToView.grandTotal}}</td>
                              </tr>
                              <tr>
                                <td colspan="5"></td>
                                <td>Discount:</td>
                                <td>-{{reservationToView.discount}}</td>
                              </tr>
                              <tr>
                                <td colspan="5"></td>
                                <td><strong>Total:</strong></td>
                                <td>{{reservationToView.total_price}}</td>
                              </tr>
                              <tr>
                                <td colspan="5"></td>
                                <td><strong>Deposit Balance:</strong></td>
                                <td>{{reservationToView.payment_received}}</td>
                              </tr>
                              <tr>
                                <td colspan="5"></td>
                                <td><strong>Balance Due:</strong></td>
                                <td>{{reservationToView.total_remaining}}</td>
                              </tr>
                            </tbody>
                          </table>
                        </div>
                      </div>
                    </div>
                  </div>
                  <!-- /Reservation Items -->
  
                  <!-- Reservation Payments Record -->
                  <h5 class="mb-2">Payment Records</h5>
                  <div class="invoice-item invoice-table-wrap">
                    <div class="row">
                      <div class="col-md-12">
                        <div class="table-responsive">
                          <table class="table table-center table-hover mb-0">
                            <thead class="thead-light">
                              <tr>
                                <th>Date</th>
                                <!-- <th>Receipt #</th> -->
                                <th>Payment Receiver</th>
                                <th>Amount</th>
                                <th>Account</th>
                              </tr>
                            </thead>
                            <tbody>
                              <tr *ngFor="let ledger of ledgerToView">
                                <td>{{ledger.date}}</td>
                                <!-- <td></td> -->
                                <td>{{ledger.user}}</td>
                                <td>{{ledger.amount}}</td>
                                <td>{{ledger.account}}</td>
                              </tr>
                            </tbody>
                          </table>
                        </div>
                      </div>
                    </div>
                  </div>
                  <!-- /Reservation Payments Record -->
  
                  <!-- Terms & Conditions -->
                  <div class="invoice-sign">										
                    <span class="d-block">Additional Notes</span>
                    <p class="mb-0">{{reservationToView.notes}}</p>
                  </div>
                  <div class="invoice-sign text-end">										
                    <span class="d-block">Authorised Sign</span>
                    <img class="img-fluid d-inline-block" src="assets/img/signature.png" alt="sign">
                  </div>
                  <!-- /Terms & Conditions -->
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>